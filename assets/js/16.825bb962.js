(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{495:function(t,v,_){"use strict";_.r(v);var a=_(4),p=Object(a.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h2",{attrs:{id:"webpack主要工作流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#webpack主要工作流程"}},[t._v("#")]),t._v(" webpack主要工作流程")]),t._v(" "),_("p",[t._v("webpack的运行流程是一个串行的过程，从启动到结束会依次执行以下流程：")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("初始化参数")]),t._v(" "),_("p",[t._v("从配置文件和"),_("code",[t._v("shell")]),t._v("语句中读取与合并参数，得到最终的配置参数")])]),t._v(" "),_("li",[_("p",[t._v("开始编译")]),t._v(" "),_("p",[t._v("用合并后的参数初始化"),_("code",[t._v("Compiler")]),t._v("对象，加载所有配置的插件，执行对象的"),_("code",[t._v("run")]),t._v("方法开始执行编译；确定入口，根据配置中的"),_("code",[t._v("entry")]),t._v("找出所有的入口文件")])]),t._v(" "),_("li",[_("p",[t._v("编译模块")]),t._v(" "),_("p",[t._v("从入口文件出发，根据配置的"),_("code",[t._v("Loader")]),t._v("匹配规则调用对应的"),_("code",[t._v("loader")]),t._v("对模块进行编译。然后根据模块的依赖关系递归进行"),_("code",[t._v("loader")]),t._v("匹配和处理。直到所有入口的依赖模块都经过了处理")])]),t._v(" "),_("li",[_("p",[t._v("模块编译完成")]),t._v(" "),_("p",[t._v("使用对应"),_("code",[t._v("loader")]),t._v("编译过所有依赖模块后，得到了每个模块被编译后的最终内容以及模块间的依赖关系")])]),t._v(" "),_("li",[_("p",[t._v("输出资源")]),t._v(" "),_("p",[t._v("根据入口和模块之间的依赖关系，组装成一个个包含多个模块的"),_("code",[t._v("chunk")]),t._v("，再通过模板把每个"),_("code",[t._v("chunk")]),t._v("转换成一个单独的文件加入到输出列表，这一步是可以修改输出内容的最后机会")])]),t._v(" "),_("li",[_("p",[t._v("输出完成")]),t._v(" "),_("p",[t._v("在确定好输出内容后，根据配置确定输出的路径和文件名，把文件内容写入到文件系统")])])]),t._v(" "),_("blockquote",[_("p",[t._v("在以上过程中，webpack会在特定的时间点广播出特定的事件，插件在监听的感兴趣的事件后会执行特定的逻辑，并且插件可以调用webpack提供的API改变webpack的运行结果")])]),t._v(" "),_("p",[_("img",{attrs:{src:"https://t1.picb.cc/uploads/2020/02/18/k782ST.png",alt:"k782ST.png"}})]),t._v(" "),_("h3",{attrs:{id:"初始化阶段"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#初始化阶段"}},[t._v("#")]),t._v(" 初始化阶段")]),t._v(" "),_("p",[_("img",{attrs:{src:"https://t1.picb.cc/uploads/2020/02/18/k78kQF.jpg",alt:"k78kQF.jpg"}})]),t._v(" "),_("h3",{attrs:{id:"编译阶段"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#编译阶段"}},[t._v("#")]),t._v(" 编译阶段")]),t._v(" "),_("p",[_("img",{attrs:{src:"https://t1.picb.cc/uploads/2020/02/18/k78tDr.jpg",alt:"k78tDr.jpg"}})]),t._v(" "),_("p",[_("img",{attrs:{src:"https://t1.picb.cc/uploads/2020/02/18/k78wnJ.jpg",alt:"k78wnJ.jpg"}})]),t._v(" "),_("h3",{attrs:{id:"输出阶段"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#输出阶段"}},[t._v("#")]),t._v(" 输出阶段")]),t._v(" "),_("p",[_("img",{attrs:{src:"https://t1.picb.cc/uploads/2020/02/18/k78fq0.jpg",alt:"k78fq0.jpg"}})])])}),[],!1,null,null,null);v.default=p.exports}}]);